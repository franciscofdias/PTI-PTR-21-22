{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\ikaro\\\\Documents\\\\PTI-PTR-21-22\\\\ptir\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\ikaro\\\\Documents\\\\PTI-PTR-21-22\\\\ptir\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ikaro\\\\Documents\\\\PTI-PTR-21-22\\\\ptir\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\ikaro\\\\Documents\\\\PTI-PTR-21-22\\\\ptir\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\ikaro\\\\Documents\\\\PTI-PTR-21-22\\\\ptir\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\ikaro\\\\Documents\\\\PTI-PTR-21-22\\\\ptir\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\ikaro\\\\Documents\\\\PTI-PTR-21-22\\\\ptir\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\ikaro\\\\Documents\\\\PTI-PTR-21-22\\\\ptir\\\\src\\\\routes\\\\login-page\\\\login.tsx\";\nimport React from \"react\";\nimport \"./login.css\";\nimport { GoogleLogin } from \"react-google-login\";\nimport { SHA256 } from \"crypto-js\";\nimport { Login as apiLogin } from \"../../_services/api\";\nimport { Link } from \"react-router-dom\";\nimport { withTranslation } from \"react-i18next\";\nimport { compose } from 'redux';\nimport { withCookies } from \"react-cookie\";\nexport var Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.responseGoogle = function (response) {\n      // call this.login\n      console.log(response);\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      remember: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } // Hanlde events\n\n\n  _createClass(Login, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var target = event.target;\n      var name = target.name;\n      var value;\n\n      if (name === \"remember\") {\n        value = target.checked;\n      } else {\n        value = target.value;\n      }\n\n      var newState = _defineProperty({}, name, value);\n\n      this.setState(newState);\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      this.login(this.state.email, this.state.password).then(function (res) {\n        if (res) {\n          _this2.props.history.push(\"/\");\n        } else {\n          // handle error message\n          console.log(res);\n        }\n      });\n      event.preventDefault();\n    } // Promise handling request to api\n\n  }, {\n    key: \"login\",\n    value: function login(email, password) {\n      var _this3 = this;\n\n      var cookies = this.props.cookies;\n      var promise = new Promise(function (resolve, reject) {\n        var passwordHash = SHA256(password);\n        apiLogin(email, passwordHash.toString()).then(function (response) {\n          if (_this3.state.remember) {\n            cookies.set(\"GreenMarketToken\", response.data.token, {\n              maxAge: 2147483647\n            });\n          } else {\n            cookies.set(\"GreenMarketToken\", response.data.token);\n          }\n\n          resolve(true);\n        }).catch(function (error) {\n          console.log(error);\n          reject();\n        });\n      });\n      return promise;\n    } // Google login\n\n  }, {\n    key: \"render\",\n    // Render webpage\n    value: function render() {\n      var _this4 = this;\n\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loginPage bg-main flex justify-center text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"md:w-3/6 m-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"text-8xl font-bold text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      }, \"Logo\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-input mt-8 block w-full border-2 text-white border-white placeholder-white rounded-full pt-1 pb-1 pl-3 pr-3 bg-opacity-0 bg-white focus:outline-none focus:bg-white focus:text-black focus:ring-0 focus:border-transparent\",\n        name: \"email\",\n        type: \"email\",\n        placeholder: \"E-mail\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-input mt-8 block w-full border-2 text-white border-white placeholder-white rounded-full pt-1 pb-1 pl-3 pr-3 bg-opacity-0 bg-white focus:outline-none focus:bg-white focus:text-black focus:ring-0 focus:border-transparent\",\n        name: \"password\",\n        type: \"password\",\n        placeholder: t('password'),\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"flex justify-between mt-8 ml-4 mr-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"rememberMeBtn\",\n        type: \"checkbox\",\n        className: \"form-checkbox\",\n        onChange: this.handleChange,\n        name: \"remember\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"ml-3 text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      }, t('remember-me'))), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-white\"\n        /* use React.Router to forgot password route */\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }\n      }, t('forgot-password'))), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"w-full block mt-12 text-salmon font-bold text-2xl rounded-full pt-1 pb-2 focus:outline-none bg-white hover:bg-opacity-80 hover:bg-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, t('login'))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-white separator pt-4 mb-6 pl-4 pr-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }\n      }, t('sign-in-with')), /*#__PURE__*/React.createElement(GoogleLogin, {\n        clientId: \"435001531571-aolerdljkcbrobj2qarsk6u9f87i3nrh.apps.googleusercontent.com\",\n        jsSrc: \"https://apis.google.com/js/platform.js\",\n        render: function render(renderProps) {\n          return /*#__PURE__*/React.createElement(\"button\", {\n            className: \"rounded-full w-14 h-14 bg-white mx-auto focus:outline-none\",\n            onClick: renderProps.onClick,\n            disabled: renderProps.disabled,\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            className: \"w-12 h-12 mx-auto\",\n            src: \"../../assets/google.png\",\n            alt: \"Sign in with Google\",\n            __self: _this4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }\n          }));\n        },\n        buttonText: \"Login\",\n        onSuccess: this.responseGoogle,\n        onFailure: this.responseGoogle,\n        isSignedIn: true,\n        cookiePolicy: \"single_host_origin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-white mt-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }\n      }, t('new-member'), \"\\xA0\", /*#__PURE__*/React.createElement(Link, {\n        className: \"font-bold underline\",\n        to: \"/register\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }\n      }, t('create-account')))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\nexport default compose(withTranslation(), withCookies)(Login);","map":{"version":3,"sources":["C:/Users/ikaro/Documents/PTI-PTR-21-22/ptir/src/routes/login-page/login.tsx"],"names":["React","GoogleLogin","SHA256","Login","apiLogin","Link","withTranslation","compose","withCookies","props","responseGoogle","response","console","log","state","email","password","remember","handleChange","bind","handleSubmit","event","target","name","value","checked","newState","setState","login","then","res","history","push","preventDefault","cookies","promise","Promise","resolve","reject","passwordHash","toString","set","data","token","maxAge","catch","error","t","renderProps","onClick","disabled","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./login.css\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport { SHA256 } from \"crypto-js\";\r\nimport { Login as apiLogin } from \"../../_services/api\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { compose } from 'redux'\r\nimport { withCookies } from \"react-cookie\";\r\n\r\ninterface IAccountInfoState {\r\n  email: string;\r\n  password: string;\r\n  remember: boolean;\r\n}\r\n\r\nexport class Login extends React.Component<{ history: any, t: any, cookies: any }, IAccountInfoState> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      remember: false,\r\n    };\r\n    \r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  \r\n  // Hanlde events\r\n  handleChange(event: any) {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    let value;\r\n    if (name === \"remember\") {\r\n      value = target.checked;\r\n    } else {\r\n      value = target.value;\r\n    }\r\n    const newState = { [name]: value } as Pick<\r\n      IAccountInfoState,\r\n      keyof IAccountInfoState\r\n    >;\r\n    this.setState(newState);\r\n  }\r\n  \r\n  handleSubmit(event: any) {\r\n    this.login(this.state.email, this.state.password).then((res) => {\r\n      if (res) {\r\n        this.props.history.push(\"/\");\r\n      } else {\r\n        // handle error message\r\n        console.log(res);\r\n      }\r\n    });\r\n    event.preventDefault();\r\n  }\r\n\r\n  // Promise handling request to api\r\n  login(email: string, password: string) {\r\n    const { cookies } = this.props;\r\n    let promise = new Promise((resolve, reject) => {\r\n      let passwordHash = SHA256(password);\r\n      apiLogin(email, passwordHash.toString())\r\n        .then((response) => {\r\n          if (this.state.remember) {\r\n            cookies.set(\"GreenMarketToken\", response.data.token, {\r\n              maxAge: 2147483647\r\n            })\r\n          } else {\r\n            cookies.set(\"GreenMarketToken\", response.data.token)\r\n          }\r\n          resolve(true);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          reject();\r\n        });\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  // Google login\r\n  responseGoogle = (response: any) => {\r\n    // call this.login\r\n    console.log(response);\r\n  };\r\n\r\n  // Render webpage\r\n  render() {\r\n    const { t } = this.props\r\n    return (\r\n      <div className=\"loginPage bg-main flex justify-center text-center\">\r\n        <div className=\"md:w-3/6 m-auto\">\r\n          <h1 className=\"text-8xl font-bold text-white\">Logo</h1>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <input\r\n              className=\"form-input mt-8 block w-full border-2 text-white border-white placeholder-white rounded-full pt-1 pb-1 pl-3 pr-3 bg-opacity-0 bg-white focus:outline-none focus:bg-white focus:text-black focus:ring-0 focus:border-transparent\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"E-mail\"\r\n              onChange={this.handleChange}\r\n            />\r\n            <input\r\n              className=\"form-input mt-8 block w-full border-2 text-white border-white placeholder-white rounded-full pt-1 pb-1 pl-3 pr-3 bg-opacity-0 bg-white focus:outline-none focus:bg-white focus:text-black focus:ring-0 focus:border-transparent\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder={t('password')}\r\n              onChange={this.handleChange}\r\n            />\r\n            <label className=\"flex justify-between mt-8 ml-4 mr-4\">\r\n              <span>\r\n                <input\r\n                  id=\"rememberMeBtn\"\r\n                  type=\"checkbox\"\r\n                  className=\"form-checkbox\"\r\n                  onChange={this.handleChange}\r\n                  name=\"remember\"\r\n                />\r\n                <span className=\"ml-3 text-white\">{t('remember-me')}</span>\r\n              </span>\r\n              <span\r\n                className=\"text-white\" /* use React.Router to forgot password route */\r\n              >\r\n                {t('forgot-password')}\r\n              </span>\r\n            </label>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full block mt-12 text-salmon font-bold text-2xl rounded-full pt-1 pb-2 focus:outline-none bg-white hover:bg-opacity-80 hover:bg-white\"\r\n            >\r\n              {t('login')}\r\n            </button>\r\n          </form>\r\n          <div className=\"text-white separator pt-4 mb-6 pl-4 pr-4\">\r\n            {t('sign-in-with')}\r\n          </div>\r\n          <GoogleLogin\r\n            clientId=\"435001531571-aolerdljkcbrobj2qarsk6u9f87i3nrh.apps.googleusercontent.com\"\r\n            jsSrc=\"https://apis.google.com/js/platform.js\"\r\n            render={(renderProps) => (\r\n              <button\r\n                className=\"rounded-full w-14 h-14 bg-white mx-auto focus:outline-none\"\r\n                onClick={renderProps.onClick}\r\n                disabled={renderProps.disabled}\r\n              >\r\n                <img\r\n                  className=\"w-12 h-12 mx-auto\"\r\n                  src=\"../../assets/google.png\"\r\n                  alt=\"Sign in with Google\"\r\n                />\r\n              </button>\r\n            )}\r\n            buttonText=\"Login\"\r\n            onSuccess={this.responseGoogle}\r\n            onFailure={this.responseGoogle}\r\n            isSignedIn={true}\r\n            cookiePolicy={\"single_host_origin\"}\r\n          />\r\n          <p className=\"text-white mt-6\">\r\n            {t('new-member')}&nbsp;\r\n            <Link className=\"font-bold underline\" to=\"/register\">\r\n              {t('create-account')}\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose<React.ComponentType<any>>(\r\n  withTranslation(),\r\n  withCookies\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}